<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SportsArena/Author's_Page</title>
    <link rel="stylesheet" href="css/AuthorPage.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>


    
    <div class="container-fluid pb-5">
      <div class="Header">
        <div class="L-and-s">
          <div class="logo">
            <a href="index.html">
              <h2>SportsArena</h2>
            </a>
          </div>
          <div class="search-bar">
            <input class="Searchbar" type="text" placeholder="Search" />
            <button class="search-button">
              <span class="material-symbols-outlined"> search </span>
            </button>
          </div>
        </div>

        <div class="Nav-Link-cont">
          <div class="Nav-links">
            <a href="">Write for us</a>
            <p class="BookMarks"></p>
            <a href="Sign_in.html" target="_parent" class="sign-in">Sign In</a>
          </div>
          <a
            href="./Get_started.html"
            target="_parent"
            class="Get-Started Get-Started1 profile"
          >
            Sign up
          </a>

          <p id="So">
            <button><i class="fa fa-sign-out logout"></i></button>
          </p>
        </div>
      </div>
      <div class="container  pb-5">
        <div class="Profile-body">
          <div class="About">
            <div class="Profile-pic">
              <img src="./images/channel-1.jpeg" alt="" />
            </div>
            <div class="users-name">
              <a href="Profile-Page.html">
                <h3 id="user-name">John Red</h3>
              </a>
            </div>
          </div>
          <div class="User-bio">
            <p>
              John Red is a football writer for the SportsArena and the Totally
              Football Show. He previously worked as a freelancer for the
              Guardian, ESPN and Eurosport, plus anyone else who would have him.
            </p>
          </div>
        </div>

        <div class="Past-Posts">
          <div class="Hero-post">
            <img src="./images/02_Turkey_Money-1024x683.webp" id="Hero-Img" alt="" />
            <h2 id="Hero-title">
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
            <p id="Hero-excerpt" >
              After business labelled "unsustainable", a look at how Turkey's
              clubs bought so lavishly in the most recent transfer window
            </p>
          </div>
          <div class="other-post-cont">
          </div>
        </div>

        <div class="More-posts">
     
          
            </div>
          
          </div>
       
          
        </div>
   











    <div class="Footer-cont p-3">
      <h2>SportsArena</h2>
      <div class="Footers-links pb-2">
        <a href="#">Privacy Policy</a>
        <a href="#">Support</a>
        <a href="#">Faq</a>
        <a href="#">Terms of Use</a>
        <a href="#">About</a>
      </div>
      <div class="Footers-icons">
        <div class="F-icon">
          <img
            width="48"
            height="48"
            src="https://img.icons8.com/fluency/48/twitterx.png"
            alt="twitterx"
          />
        </div>
        <div class="F-icon">
          <img
            width="48"
            height="48"
            src="https://img.icons8.com/color/48/facebook-new.png"
            alt="facebook-new"
          />
        </div>
        <div class="F-icon">
          <img
            width="48"
            height="48"
            src="https://img.icons8.com/color/48/instagram-new--v1.png"
            alt="instagram-new--v1"
          />
        </div>
      </div>
      <h5>Â© 2023 SportsArena</h5>
    </div>
     







    <script src="js/SportsArena.js"></script>
    <script src="js/curentUser.js"></script>
    <script src="js/bootstrap.bundle.js"></script>
    <script>


  let sportsDb = JSON.parse(localStorage.getItem('sportsData'));
  let News =JSON.parse(localStorage.getItem("latest"));
  let maxOther = 6;
  let maxMore = 7;
  let otherPostCont = document.querySelector('.other-post-cont') ;
  let morePostCont = document.querySelector('.More-posts');



  const urlA = new URLSearchParams(window.location.search);
  const id = urlA.get('a');
  let postAuthor = sportsDb.filter((a)=> a.id == id)[0];

  const authorName = document.getElementById('user-name');
  authorName.innerText = postAuthor.author;
  const heroImg = document.getElementById('Hero-Img');
  heroImg.src = postAuthor.img;
  const heroTitle = document.getElementById('Hero-title');
  heroTitle.innerText = postAuthor.title;
  const heroExcerpt = document.getElementById('Hero-excerpt');
  heroExcerpt.innerText = postAuthor.content.split(/[.!?]/).slice(0, 1).join(".");
  

  for(let i = 0; i < maxOther && i < News.length; i++){
    let otherPosts = News[i];
    let otherPost = `<div class="other-posts">
              <div class="other-posts-pic">
                <img src='${otherPosts.img}'alt="" />
              </div>
              <div class="other-posts-texts">
                <h2 
                data-news = ${otherPosts.id}>
                 ${otherPosts.title}
                </h2>
              </div>
            </div>`;
            otherPostCont.innerHTML += otherPost;
  }

  let otherNews = document.querySelectorAll(".other-posts-texts");
      otherNews.forEach((otherNew) => {
        otherNew.addEventListener("click", function () {
          let currentNew = this.getAttribute("data-news");
      
          window.location.href = "Single-Post.html?a=" + currentNew;
        });
      });

      for(let i = 0; i < maxMore && i < sportsDb.length; i++){
        let morePosts = sportsDb[i];
        let morePost = ` <div class="other-posts">
            <div class="other-posts-pic">
              <img src='${morePosts.img}' alt="" />
            </div>
            <div class="other-posts-texts">
              <h2>
               ${morePosts.title}
              </h2>
              <p>
                ${morePosts.content.split(/[.!?]/).slice(0, 1).join(".")}
              </p>
            </div>
          </div>
          `;
          morePostCont.innerHTML += morePost;     
         }



  









  

 


    </script>
  </body>
</html>
