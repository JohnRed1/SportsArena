<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SportsArena</title>
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/Single-post.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <!-- nav -->
    <div class="Header p-3 pe-4">
      <div class="L-and-s">
        <div class="logo">
          <h2>SportsArena</h2>
        </div>
      </div>
      <div class="search-bar">
        <input class="Searchbar" type="text" placeholder="Search" />
        <button class="search-button">
          <span class="material-symbols-outlined"> search </span>
        </button>
      </div>

      <div class="Nav-Link-cont">
        <div class="Nav-links">
          <a href="">Articles</a>
          <a href="">Write For us</a>

          <a href="BookMarks.html" class="BookMarks"> Bookmarks </a>

          <a href="Sign_in.html" target="_parent" class="sign-in">Sign In</a>
        </div>
        <a href="./Get_started.html" target="_parent" class="profile">
          <div class="Get-Started Get-Started1">
            <button>Get Started</button>
          </div>
        </a>
        <p id="So">
          <button><i class="fa fa-sign-out logout"></i></button>
        </p>
      </div>
    </div>
    <div class="Related-Posts-cont">
      <div class="Related-posts">
        <h3>Related Posts</h3>

        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts" onclick=" clickMorePost() ;">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
        <div class="other-posts">
          <div class="other-posts-pic">
            <img src="./images/02_Turkey_Money-1024x683.webp" alt="" />
          </div>
          <div class="other-posts-texts">
            <h2>
              Turkey's summer spending spree: 'They've gone crazy. I'm not sure
              where they found the money'
            </h2>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="Single-post-cont">
        <div class="Single-post">
          <div class="SP-Title RP-Title TP-Title p-2">
            <h3>
              Composure, character, no coincidence: The moment Rice showed why
              Arsenal paid £105m for him
            </h3>
          </div>
          <div class="SP-visuals">
            <div id="Post-Visual" class="RP-visual Trend-Visual">
              <img src="./images/GettyImages-1642977292-1024x683.webp" alt="" />
            </div>

            <div class="SP-Author">
              <a href="Author's-Page.html" >
                <p id="Author-Name" class="TrendAuthor-Name">John Red</p>
              </a>
              <p id="Post-Time">1 Sep 2023</p>
            </div>
          </div>
          <div class="SP-Content">
            <div class="SP-Content-1 TP-Content RP-excerpt">
              <p>
                <!-- Full Post -->
              </p>
            </div>
            <div class="R-P-icons">
              <div class="comments">
                <span class="material-symbols-outlined" id="comment-btn">
                  mode_comment
                </span>
                <span class="material-symbols-outlined" id="Like">
                  favorite
                </span>
              </div>

              <div class="Bookmark">
                <span class="material-symbols-outlined bookmark">
                  bookmark
                </span>
              </div>
            </div>
          </div>

          <div class="SP-Comments">
            <div class="commentNicon">
              <h4>Comments</h4>
              <i class="fa fa-times delete"></i>
            </div>

            <div class="comment-form">
              <div class="user">Jhn red</div>
              <textarea
                id="comment-input"
                placeholder="Post your reply..."
              ></textarea>
              <button id="add-comment-button">Reply</button>
            </div>

            <div id="comment-list">
              <!-- Comments will be displayed here -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- snackbar -->
    <div id="empty-field-alert"></div>

    <div class="Footer-cont p-3">
      <h2>SportsArena</h2>
      <div class="Footers-links pb-2">
        <a href="#">Privacy Policy</a>
        <a href="#">Support</a>
        <a href="#">Faq</a>
        <a href="#">Terms of Use</a>
        <a href="#">About</a>
      </div>
      <div class="Footers-icons">
        <div class="F-icon">
          <img
            width="48"
            height="48"
            src="https://img.icons8.com/fluency/48/twitterx.png"
            alt="twitterx"
          />
        </div>
        <div class="F-icon">
          <img
            width="48"
            height="48"
            src="https://img.icons8.com/color/48/facebook-new.png"
            alt="facebook-new"
          />
        </div>
        <div class="F-icon">
          <img
            width="48"
            height="48"
            src="https://img.icons8.com/color/48/instagram-new--v1.png"
            alt="instagram-new--v1"
          />
        </div>
      </div>
      <h5>© 2023 SportsArena</h5>
    </div>

    <script src="js/SportsArena.js"></script>
    <script src="js/curentUser.js"></script>
    <script src="js/bootstrap.bundle.js"></script>
    <script>
      let sportsDb = JSON.parse(localStorage.getItem("sportsData"));
      let News =JSON.parse(localStorage.getItem("latest"));;

      //for recent post
      const urlP = new URLSearchParams(window.location.search);
      const id = urlP.get("a");
      let singlePost = sportsDb.filter((a) => a.id == id)[0];

      const title = document.querySelector(".SP-Title");
      const visual = document.getElementById("Post-Visual");
      const authorName = document.getElementById("Author-Name");
      const content = document.querySelector(".SP-Content-1");

      if (authorName) {
        // Set the href attribute for the selected element
        authorName.href = `Author's-Page.html?q=${singlePost.id}`;
        console.log(authorName.href);
        
      }

      title.innerText = singlePost.title;
      authorName.innerText = singlePost.author;

      visual.innerHTML = ` <img src="${singlePost.img}" alt="" />`;
      content.innerText = singlePost.content;

      // for trending post
      // const urlT = new URLSearchParams(window.location.search);
      // const idT = urlT.get("a");
      // let singleTrendPost = News.filter((a) => a.id == idT)[0];

      // const titleTrend = document.querySelector(".TP-Title");
      // const visualTrend = document.querySelector(".Trend-Visual");
      // const authorNameTrend = document.querySelector(".TrendAuthor-Name");
      // const contentTrend = document.querySelector(".TP-Content");

      // titleTrend.innerText = singleTrendPost.title;
      // authorNameTrend.innerText = singleTrendPost.author;

      // visualTrend.innerHTML = ` <img src="${singleTrendPost.img}" alt="" />`;
      // contentTrend.innerText = singleTrendPost.content;

      const urlT = new URLSearchParams(window.location.search);
const idT = urlT.get("a");

if (idT === "a" || idT === "b") {
  let singleTrendPost = News.filter((a) => a.id == idT)[0];

  const titleTrend = document.querySelector(".TP-Title");
  const visualTrend = document.querySelector(".Trend-Visual");
  const authorNameTrend = document.querySelector(".TrendAuthor-Name");
  const contentTrend = document.querySelector(".TP-Content");

  titleTrend.innerText = singleTrendPost.title;
  authorNameTrend.innerText = singleTrendPost.author;

  visualTrend.innerHTML = ` <img src="${singleTrendPost.img}" alt="" />`;
  contentTrend.innerText = singleTrendPost.content;
}


      










    </script>

    <script>
      const allUsers = JSON.parse(localStorage.getItem("database"));
      let activeUser = localStorage.getItem("activeuser");
      let currentKey = localStorage.getItem("loggedIn");
      let curentUser;

      const commentIco = document.getElementById("comment-btn");
      commentIco.addEventListener("click", function () {
        const commentBox = document.querySelector(".SP-Comments");
        commentBox.style.display = "inline-block";
      });

      const closeComment = document.querySelector(".delete");
      closeComment.addEventListener("click", function () {
        const commentBox = document.querySelector(".SP-Comments");
        commentBox.style.display = "none";
      });

      // Function to add a new comment
      function addComment() {
        const commentInput = document.getElementById("comment-input");
        const commentText = commentInput.value;

        if (commentText) {
          const commentList = document.getElementById("comment-list");
          commentList.className = "comment-list";

          const comment = document.createElement("div");
          const username = document.createElement("div");
          const singleComment = document.createElement("div");
          singleComment.className = "single-comment";

          username.className = "user";
          username.innerText = userDb.username;
          comment.className = "comment";
          comment.innerHTML = commentText;

          singleComment.appendChild(username);
          singleComment.appendChild(comment);

          commentList.appendChild(singleComment);

          commentInput.value = "";
        }
      }

      // Add comment when the button is clicked
      const addCommentButton = document.getElementById("add-comment-button");
      addCommentButton.addEventListener("click", addComment);

      // Add comment when Enter key is pressed
      const commentInput = document.getElementById("comment-input");
      commentInput.addEventListener("keyup", function (event) {
        if (event.key === "Enter") {
          addComment();
        }
      });

      function user() {
        for (let i = 0; i < allUsers.length; i++) {
          currentUser = allUsers[i];

          if (currentUser.username == activeUser) {
            return currentUser;
          }
        }
      }
      let userDb = user();

      if (currentKey) {
        let username = document.querySelector(".user");
        username.innerText = userDb.username;
      }
    </script>

  </body>
</html>
